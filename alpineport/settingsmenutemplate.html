<div id="ace_settingsmenu" x-data="{ options: Object.entries(optionGroupsJSON.optionGroups) }" class="bg-[#2b2b2b] text-white shadow-lg overflow-x-hidden rounded-2xl p-2 z-50">
    
    <template x-for="[groupKey, object] in options" :key="groupKey">
        <div :id="groupKey" class="p-2">
            <h3 class="text-lg font-semibold capitalize mb-2" x-text="groupKey"></h3>
            
            <template x-for="[key_2, subData] in Object.entries(object)" :key="key_2">
                
                <div :id="key_2+'-container'" class="ace_optionsMenuEntry">
                    
                    <span class="font-thin text-sm" x-text="key_2"></span>
                    
                    <div :id="key_2" class="flex items-center">

                        <template x-if="Array.isArray(subData)">
                            
                            <template x-for="(subObject, index) in subData" :key="key_2 + '-' + index">
                                
                                <template x-if="!subObject.type && !subObject.ariaLabel">
                                    <input :id="key_2 + '-checkbox-' + index" type="checkbox" :name="key_2" class="ml-2" />
                                </template>
                                
                                <template x-if="subObject.type == 'number'">
                                    <div :id="key_2+'-number-'+index" class="flex items-center ml-2">
                                        <label x-text="subObject.ariaLabel"></label>
                                        <input type="number" :min="subObject.min" :max="subObject.max" 
                                            :value="subObject.defaultValue || (subObject.values && subObject.values[0])" 
                                            class="w-12 bg-[#303030] p-1 rounded-md text-center ml-2">
                                    </div>
                                </template>
                            </template>
                        </template>

                        <template x-if="!Array.isArray(subData)">
                            <div x-data="{ subObject: subData }"> 
                                
                                <template x-if="subObject.type == 'select'">
                                    <div :id="key_2+'-select-container'" class="ml-2">
                                        <select :id="key_2" class="bg-[#303030] hover:bg-[#444] rounded-2xl p-1 text-white w-auto">
                                            
                                            <template x-if="Array.isArray(subObject.items)">
                                                <template x-for="(item, index) in subObject.items" :key="index">
                                                    <option :value="item.value" x-text="item.caption" class="bg-[#303030]"></option>
                                                </template>
                                            </template>

                                            <template x-if="!Array.isArray(subObject.items)">
                                                <template x-for="[optGroupKey, optionsArray] in Object.entries(subObject.items)" :key="optGroupKey">
                                                    <optgroup :label="optGroupKey">
                                                        <template x-for="(subItem, index) in optionsArray" :key="index">
                                                            <option :value="subItem.value" x-text="subItem.caption" class="bg-[#303030]"></option>
                                                        </template>
                                                    </optgroup>
                                                </template>
                                            </template>
                                            
                                        </select>
                                    </div>
                                </template>

                                <template x-if="subObject.type == 'buttonBar'">
                                    <div :id="key_2+'-buttonbar'" class="flex ml-2">
                                        <template x-for="(item, index) in subObject.items" :key="index">
                                            <button 
                                                :id="key_2 + '-button-' + index" 
                                                :value="item.value" 
                                                x-text="item.caption"
                                                class="bg-[#1e1e1e] border border-neutral-700 text-white rounded-xl p-1 m-0.5 hover:bg-[#444]">
                                            </button>
                                        </template>
                                    </div>
                                </template>

                                <template x-if="subObject.type == 'number'">
                                    <div :id="key_2+'-number'" class="flex items-center ml-2">
                                        <input type="number" :value="subObject.defaultValue ? subObject.defaultValue : 17"
                                            :min="subObject.min" :max="subObject.max"
                                            class="w-10 bg-[#303030] p-1 rounded-md text-center">
                                        <template x-for="(item, index) in subObject.defaults" :key="index">
                                            <button :value="item.value" x-text="item.caption" class="bg-[#1e1e1e] border border-neutral-700 text-white rounded-xl p-1 m-0.5 hover:bg-[#444]"></button>
                                        </template>
                                    </div>
                                </template>

                                <template x-if="subObject.type == 'checkbox' || (!subObject.type && subObject.path)">
                                    <input :id="key_2 + '-input'" type="checkbox" class="ml-2" />
                                </template>

                            </div>
                        </template>
                    </div>
                </div>
            </template>
        </div>
    </template>
</div>
